<!DOCTYPE html>
<html>
<head>
	<title></title>
	<script src="http://cdn.bootcss.com/jquery/3.0.0-alpha1/jquery.js"></script>
</head>
<body>
<input type="text" id="input" />
<button id="send">Send</button>

<textarea id="output"></textarea>
<script type="text/javascript">
	// check websockt 
	if  ( ! ("WebSocket" in window)){
		alert("not support Websocket")
		throw "not support"
	}
	// var url = "ws://localhost:12345/sock"
	var ws = new WebSocket("ws://localhost:12345/sock")

	ws.onopen = function(){
		console.log("Websocket connected")
	};

	ws.onmessage = function(evt){
		
		console.log("msg is :",evt.data)
	};

	ws.onerror = function(evt){
		console.log("err : ",evt)
	};

	ws.onclose = function(){
		console.log("Websocket closed")
	};

	$("#send").click(function(){
		ws.send($("#input").val())
		console.log("ws send : "+$("#input").val())
	});
</script>
</body>
</html>